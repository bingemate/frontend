<ng-container *ngIf="type === 'movies'">
  <h2>
    {{ moviePlaylist?.name }}
  </h2>
  <nz-list
    nzItemLayout="vertical"
    [nzLoading]="false"
    cdkDropList
    (cdkDropListDropped)="itemMoved($event)">
    <nz-list-item
      *ngFor="let item of moviePlaylistItems; let index = index"
      cdkDrag>
      <nz-list-item-meta>
        <nz-list-item-meta-title>
          <nz-space>
            <nz-space nzAlign="center">
              <span *nzSpaceItem> {{ index }}. </span>
            </nz-space>
            <a (click)="watchMovie(index)">
              <img
                class="media-image"
                width="160"
                height="90"
                alt="logo"
                ngSrc="{{ item.media.imageUrl }}" />
            </a>
            <nz-space nzDirection="vertical">
              <a
                [routerLink]="[
                  '/medias/movie-view',
                  item.playlistItem.movieId
                ]">
                {{ item.media.name }}
              </a>
            </nz-space>
          </nz-space>
        </nz-list-item-meta-title>
      </nz-list-item-meta>
      <ul nz-list-item-actions>
        <nz-list-item-action
          *ngIf="moviePlaylist?.userId === user?.id || isAdmin"
          ><a (click)="removeItem(item.playlistItem)"
            >Supprimer</a
          ></nz-list-item-action
        >
      </ul>
    </nz-list-item>
    <nz-list-empty
      *ngIf="moviePlaylistItems.length === 0"
      nzNoResult="Aucun média"></nz-list-empty>
  </nz-list>
</ng-container>
<ng-container *ngIf="type === 'episodes'">
  <h2>
    {{ episodePlaylist?.name }}
  </h2>
  <nz-list
    nzItemLayout="vertical"
    [nzLoading]="false"
    cdkDropList
    (cdkDropListDropped)="itemMoved($event)">
    <nz-list-item
      *ngFor="let item of episodePlaylistItems; let index = index"
      cdkDrag>
      <nz-list-item-meta>
        <nz-list-item-meta-title>
          <nz-space>
            <nz-space nzAlign="center">
              <span *nzSpaceItem> {{ index }}. </span>
            </nz-space>
            <a (click)="watchMovie(index)">
              <img
                class="media-image"
                width="160"
                height="90"
                alt="logo"
                ngSrc="{{ item.media.imageUrl }}" />
            </a>
            <nz-space nzDirection="vertical">
              <a
                [routerLink]="[
                  '/medias/movie-view',
                  item.playlistItem.episodeId
                ]">
                {{ item.media.name }}
              </a>
            </nz-space>
            <nz-space nzDirection="vertical">
              <a
                [routerLink]="[
                  '/medias/episode-view',
                  item.playlistItem.episodeId
                ]">
                {{ item.media.name }}
              </a>
              {{ item.media.season }}x{{ item.media.episode }}
            </nz-space>
          </nz-space>
        </nz-list-item-meta-title>
      </nz-list-item-meta>
      <ul nz-list-item-actions>
        <nz-list-item-action
          *ngIf="episodePlaylist?.userId === user?.id || isAdmin"
          ><a (click)="removeItem(item.playlistItem)"
            >Supprimer</a
          ></nz-list-item-action
        >
      </ul>
    </nz-list-item>
    <nz-list-empty
      *ngIf="episodePlaylistItems.length === 0"
      nzNoResult="Aucun média"></nz-list-empty>
  </nz-list>
</ng-container>
<ng-container *ngIf="!type">
  <nz-spin></nz-spin>
</ng-container>
